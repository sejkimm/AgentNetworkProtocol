# Three Key Issues of Agent Identity: Interoperability, Human Authorization, and Privacy Protection

우리는 agent가 개인 비서부터 다양한 전문 서비스 agent에 이르기까지 전례 없는 방식으로 우리의 디지털 생활에 참여할 것이라고 상당히 확신할 수 있습니다. 이들은 agent 간의 안전하고 효율적인 상호작용을 보장하기 위한 포괄적인 신원 시스템이 필요합니다.

이 글에서는 agent 신원이 직면한 세 가지 핵심 이슈를 깊이 있게 다룰 것입니다:

- **상호 운용성**: 모든 agent가 통신하고 협업할 수 있도록 어떻게 할 것인가? 이는 agent 신원의 핵심 이슈입니다. 디지털 사일로를 해체하여 AI가 진정으로 완전한 컨텍스트를 얻고 더 지능적인 상호작용 경험을 제공할 수 있게 합니다.
- **인간 승인**: 민감하고 중요한 요청에서 요청이 인간에 의해 수동으로 승인되었는지 agent에서 자율적으로 시작되었는지 어떻게 판단할 것인가? 우리는 agent가 인간을 대신하여 인터넷에 접근할 수 있도록 허용하면서도 agent의 권한을 제한할 수 있어야 합니다.
- **개인정보 보호**: 상호작용 중에 agent가 사용자의 개인 정보를 유출하는 것을 어떻게 방지할 것인가?

우리는 Agent Network Protocol (ANP)과 이 세 가지 이슈에 대한 고려사항과 설계를 소개합니다.

## Agent 신원이 중요한 이유

인터넷의 탄생 이후, 신원 인증은 디지털 세계의 핵심 이슈였습니다. 초기의 사용자명과 비밀번호에서 후에 나온 2단계 인증과 생체 인식에 이르기까지, 신원 확인 기술은 지속적으로 발전해왔습니다. 오늘날 agent 시대의 도래와 함께 신원 인증은 새로운 과제에 직면하고 있습니다.

지능형 agent는 자율성, 학습 능력, 의사결정 능력을 가진다는 점에서 전통적인 소프트웨어와 다릅니다. agentic web에서 지능형 agent는 다음을 수행해야 합니다:

- **디지털 시민으로서 행동**: 다른 agent와 시스템에서 인식하고 신뢰할 수 있는 자체 신원을 가져야 합니다
- **사용자를 대신하여 행동**: 사용자를 대신하여 다양한 작업과 거래를 수행하기 위해 적절한 승인을 얻어야 합니다
- **크로스 플랫폼 협업**: 다른 플랫폼의 agent와 서비스와 원활하게 상호작용하여 협업 네트워크를 형성해야 합니다
- **사용자 개인정보 보호**: 사용자를 대신하여 행동하면서 사용자의 개인정보와 보안을 보호해야 합니다

"What Makes Agentic Web Different"에서 논의한 바와 같이, AI의 힘을 unleash하기 위해서는 AI가 완전한 컨텍스트 정보를 얻고, 인터넷의 모든 도구에 접근하고, 자신이 뛰어난 방식으로 인터넷과 상호작용하고, 다른 AI와 효율적으로 협업할 수 있도록 해야 합니다. 이 모든 것의 전제조건은 강력하고 유연한 agent 신원 시스템입니다.

## 핵심 이슈 1: 상호 운용성—신원 사일로 해체

이는 agent 신원에 있어 가장 중요하고 도전적인 이슈입니다.

현재 인터넷 환경에서 신원 시스템은 대부분 플랫폼 사일로입니다. WeChat 계정은 DingTalk에서 사용할 수 없고, Alipay 계정은 JD.com에서 직접 쇼핑에 사용할 수 없습니다.

이러한 신원 분편화는 agent 시대에 심각한 장애물이 될 것입니다. agent는 정보를 수집하고 작업을 수행하기 위해 다양한 서비스 간에 자유롭게 이동해야 하기 때문입니다.

한 agent가 다른 agent의 서비스를 호출해야 하는데 서로 다른 플랫폼에 속하고 서로 다른 신원 시스템을 가지고 있다면, 협업이 극도로 복잡해지고 사용자의 여러 수동 개입이 필요할 수 있습니다. 이는 명백히 사용자 부담을 줄이려는 agent의 본래 의도와 모순됩니다.

### 기존 솔루션 분석

솔루션을 찾는 과정에서 우리는 인터넷에 존재하는 다양한 신원 인증 기술을 비교했습니다:

- **OpenID Connect**: single sign-on에 널리 사용되지만, 중앙집중적 특성과 복잡한 과정으로 인해 agent 간의 효율적인 상호작용에 적합하지 않습니다. 근본적으로 OpenID Connect는 미래의 신원 상호 운용성을 해결하기 위해 설계되지 않았습니다.
- **API Keys**: API 통합에 널리 사용되며 간단하고 직접적이지만 보안성이 제한적이고, 여전히 사용자의 수동 등록과 구성이 필요하여 agent 상호작용의 효율성을 떨어뜨립니다.
- **Blockchain Identity Solutions**: 높은 탈중앙화 정도를 가지지만 확장성과 성능에서 과제에 직면합니다. 현재 기술로는 수십억 사용자를 지원하는 것이 상당한 도전을 제시합니다.
- **Email Protocol**: 간단하고 탈중앙화되어 있으며, 이 탈중앙화는 우리의 이상과 일치합니다. 하지만 이메일 프로토콜은 전자 메일 비즈니스를 위해 특별히 설계되었고 핵심에서 HTTP를 사용하지 않아 기존의 성숙한 웹 인프라를 활용할 수 없습니다.
- **Nostr와 AT Protocols**: 새로운 탈중앙화 프로토콜이지만 아직 널리 채택되지 않았습니다. AT Protocols는 제가 매우 낙관적으로 보는 프로토콜로, 신원 인증에 W3C DID를 사용하며, 그 애플리케이션인 Bluesky가 미래의 WeChat과 같은 역할을 할 수 있을 것입니다.
- **W3C DID**: W3C Decentralized Identifier (DID) 사양은 중앙집중식 신원이 가져오는 다양한 문제를 해결하기 위해 설계되었으며 2022년에 권장 표준으로 발표되었습니다. 하지만 인터넷에서 널리 사용되지 않았습니다.

### W3C DID가 Agent 신원을 위한 최고의 솔루션입니다

W3C DID는 발표 후 널리 적용되지 않았습니다. 하지만 모든 사용 가능한 기술을 분석한 후, 우리는 W3C DID가 지능형 agent에게 절대적으로 가장 적합한 신원 기술이며, 새로운 것을 설계하는 것으로는 개선하기 어렵다고 확신합니다.

몇 가지 이유가 있습니다:

- W3C DID는 탈중앙화와 신원 상호 운용성을 위해 태어났으며, agent 상호 운용성의 필요와 완벽하게 일치합니다.
- W3C DID 구현은 더 유연합니다; 현재 DID에 블록체인을 요구하는 것과 같은 특정 탈중앙화 구현을 강제하지 않습니다. 이는 개발자에게 더 많은 선택권을 제공합니다.
- 우리는 did:web 방법을 기반으로 agent를 위한 새로운 방법 구현을 설계했습니다. 이 방법은 탈중앙화를 달성하면서 기존의 성숙한 웹 인프라를 반복적으로 활용할 수 있어 수십억 개의 agent를 지원할 수 있습니다.

원래 W3C DID 사양과 우리의 방법 구현을 결합한 것이 제 생각에는 현재 사용 가능한 지능형 agent에게 가장 적합한 신원 솔루션입니다.

솔루션의 자세한 소개는 다음을 참조하세요: [did:wba, a Web-based Decentralized Identifier](did-wba-a-web-based-decentralized-identifier-kor.md)

## 핵심 이슈 2: 인간 승인—중요한 작업에 대한 보안 보장

지능형 agent가 인간을 대신하여 점점 더 많은 작업을 수행함에 따라, 한 가지 핵심 이슈가 더욱 중요해집니다: agent가 보내는 요청이 인간의 수동 승인을 받았는지 여부입니다.

예를 들어, agent는 사용자를 대신하여 자율적으로 호텔 정보를 검색할 수 있지만, 실제 예약과 결제에 있어서는 인간의 수동 승인을 얻어야 합니다.

이러한 구분 메커니즘이 없으면 두 가지 위험이 발생할 수 있습니다: 첫째, agent가 지나치게 신중해져서 간단한 작업에 대해 사용자에게 자주 확인을 중단시키는 것; 둘째, agent가 지나치게 자율적이어서 핵심 결정에 필요한 인간 감독이 부족하여 인간에게 재정적 손실을 초래할 수 있습니다.

### did:wba에서의 인간 승인 메커니즘

ANP 프로토콜은 did:wba 사양을 통해 우아한 솔루션을 제안합니다: 인간 승인과 agent 자동 승인 간의 명확한 구분 메커니즘입니다.

did:wba 문서에서 우리는 인간 승인을 위한 공개 키 정보를 저장하는 `humanAuthorization` 필드를 도입했습니다:

```json
"humanAuthorization": [
  "did:wba:example.com%3A8800:user:alice#WjKgJV7VRw3hmgU6--4v15c0Aewbcvat1BsRFTIqa5Q",
  {
    "id": "did:wba:example.com%3A8800:user:alice#key-3",
    "type": "Ed25519VerificationKey2020",
    "controller": "did:wba:example.com%3A8800:user:alice",
    "publicKeyMultibase": "z9XK2BVwLNv6gmMNbm4uVAjZpfkcJDwDwnZn6z3wweKLo"
  }
]
```

이 메커니즘의 작동 원리는 다음과 같습니다:

1. **기본 승인**: 민감하지 않은 작업의 경우, agent는 인간 개입 없이 일반적인 확인 방법을 사용하여 서명과 승인을 할 수 있습니다.
2. **인간 승인**: 중요한 작업(구매, 결제, 개인 데이터 접근 등)의 경우, `humanAuthorization`에 정의된 키를 사용한 서명이 필요하며, 이는 일반적으로 생체 인식이나 유사한 방법을 통한 인간의 명시적이고 수동적인 승인이 필요합니다.

agent 설명 프로토콜에서 서비스 제공자는 어떤 인터페이스가 수동 인간 승인을 필요로 하는지 명확히 지정할 수 있습니다:

```json
{
  "@type": "ad:StructuredInterface",
  "protocol": "YAML",
  "humanAuthorization": true,
  "url": "https://agent-network-protocol.com/api/purchase-interface.yaml",
  "description": "A YAML file for interacting with the intelligent agent through purchase."
}
```

이 메커니즘을 통해 우리는 agent 자율성과 보안 간의 균형을 달성합니다: agent는 일상적인 작업을 자유롭게 수행할 수 있는 반면, 중요한 작업은 엄격하게 제어되어 사용자의 재정적 보안과 데이터 개인정보를 보장합니다.

Agent 개발자는 humanAuthorization에 해당하는 개인 키를 안전하게 저장하고 권한 격리를 구현해야 합니다. 예를 들어, humanAuthorization 서명은 생체 인식(지문, 얼굴 인식 등)을 통해 사용자를 확인한 후에만 사용되어야 합니다.

## 이슈 3: 개인정보 보호—행동 추적 및 프로파일링 방지

agent가 사용자를 대신하여 다양한 플랫폼에서 행동함에 따라, 더 미묘하지만 동등하게 중요한 이슈가 등장합니다: 사용자 행동이 추적되고 분석되는 것을 어떻게 방지할 것인가? 사용자가 다른 서비스에 접근할 때 동일한 식별자를 사용한다면, 이러한 서비스들이 협력하여 사용자의 상세한 행동 프로필을 구축하여 사용자 개인정보를 침해할 수 있습니다.

### did:wba에서의 다중 신원 전략

이 이슈를 해결하기 위해, ANP 프로토콜은 did:wba 사양에서 다중 신원 전략을 제안합니다:

1. **주요 DID**: 사용자는 일반적으로 상대적으로 안정적인 주요 DID를 가지고 있으며, 사회적 관계 유지 및 지속적인 신원이 필요한 기타 시나리오에 사용됩니다.
2. **서브 DID**: 사용자는 동시에 주요 DID에 종속된 여러 서브 DID를 소유하고 있으며, 쇼핑, 레스토랑 예약, 콘텐츠 구독 등과 같은 다양한 상호작용 시나리오에 사용됩니다.
3. **정기적 업데이트**: 서브 DID는 정기적으로 업데이트될 수 있으며; 오래된 DID는 비활성화되고 새로운 DID가 요청되어 추적의 어려움을 증가시킵니다.

이 다층 신원 아키텍처는 사용자가 다른 시나리오에서 다른 신원을 사용할 수 있게 하여 크로스 플랫폼 행동 연관성을 방지하면서 DID 간의 종속 관계를 유지하여 사용자가 쉽게 관리할 수 있게 합니다.

가장 중요한 것은, 이 설계가 사용자에게 디지털 신원에 대한 제어권을 부여하여 언제, 어디서, 어떻게 신원 정보를 제시할지 결정할 수 있게 하고, "사용자가 제어하는 사용자 데이터"의 비전을 진정으로 실현한다는 것입니다.

## Copyright Notice  

Copyright (c) 2024 GaoWei Chang  
This document is released under the [MIT License](./LICENSE), you are free to use and modify it, but you must retain this copyright notice.
